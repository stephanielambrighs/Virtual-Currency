localStorage.getItem("token")||(window.location.href="../login");let fullUserName,userList=document.querySelector(".list"),getAllUsers=()=>{fetch("https://imd-virtual-currency-app.herokuapp.com/api/v1/leaderboard",{method:"get",headers:{"content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>e.json()).then(e=>{let t=0,n=e.users;for(var o in n.sort(function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}}("coins")),n){let e=`<li class="list__item">\n                <p class="list__count"> ${++t} </p>\n                <p class="list__fullname"> ${n[o].fullname} </p>\n                <p class="list__coins"> €${n[o].coins} </p>\n            </li>`;userList.insertAdjacentHTML("beforeend",e)}}).catch(e=>{console.log(e)})};getAllUsers();let getUserData=()=>{fetch("https://imd-virtual-currency-app.herokuapp.com/api/v1/transfers/user",{method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>e.json()).then(e=>{userBalance=e.user[0].coins,document.querySelector(".header__coinsAmount").innerHTML=e.user[0].coins+" coins",document.querySelector(".card__coinsAmount").innerHTML="€"+e.user[0].coins,console.log(userBalance),document.querySelector(".header__name").innerHTML=e.user[0].fullname,document.querySelector(".headerD__name").innerHTML=e.user[0].fullname}).catch(e=>{console.log(e)})};getUserData();